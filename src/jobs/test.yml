description: Run Tests with newman cli and report results

executor: newman

parameters:
  collection:
    type: string
    description: 'Collection to run'
  environment:
    type: string
    description: 'Environment to run'
  additional_options:
    type: string
    default: '--reporter cli,testrail'
    description: 'Additional Newman Options'

steps:
  - set_test_run_name
  - install_reporter
  - run_newman:
      collection: << parameters.collection >>
      environment: << parameters.environment >>
